<div class="page">
	<div class="page-wrap">
		<div class="row">
			<div class="col-md-12">
				<div class="panel panel-default table-responsive panel-hovered mb20">
					<div class="panel-heading">
						<h4>CLIENTES DESBLOQUEADOS</h4>
					</div>
					<div class="panel-body">
						<div class="row">
							<div class="small text-bold left mt5">
								Mostrar&nbsp;
								<select data-ng-model="numPerPage" data-ng-options="num for num in numPerPageOpts" data-ng-change="onNumPerPageChange()">
								</select>
								&nbsp;entradas
							</div>
							<form class="form-horizontal right col-lg-4">
								<input type="text" class="form-control input-sm" placeholder="Ingrese texto para búsqueda" data-ng-model="searchKeywords"
								 data-ng-keyup="search()">
							</form>
						</div>
					</div>
					<!-- data table -->
					<table class="table table-bordered table-striped">
						<thead>
							<tr>
								<th>#
									<div class="th">
										<i class="fa fa-caret-up icon-up" ng-click=" order('id') " ng-class="{active: row == 'id'}"></i>
										<i class="fa fa-caret-down icon-down" ng-click=" order('-id') " ng-class="{active: row == '-id'}"></i>
									</div>
								</th>
								<th>
									Cliente
									<div class="th">
										<i class="fa fa-caret-up icon-up" ng-click=" order('cliente.nombre') " ng-class="{active: row == 'cliente.nombre'}"></i>
										<i class="fa fa-caret-down icon-down" ng-click=" order('-cliente.nombre') " ng-class="{active: row == '-cliente.nombre'}"></i>
									</div>
								</th>
								<th>
									Autorización Supervisor
									<div class="th">
										<i class="fa fa-caret-up icon-up" ng-click=" order('numero') " ng-class="{active: row == 'numero'}"></i>
										<i class="fa fa-caret-down icon-down" ng-click=" order('-numero') " ng-class="{active: row == '-numero'}"></i>
									</div>
								</th>
								<th>
									Autorización Gerente
									<div class="th">
										<i class="fa fa-caret-up icon-up" ng-click=" order('supervisor.nombre') " ng-class="{active: row == 'supervisor.nombre'}"></i>
										<i class="fa fa-caret-down icon-down" ng-click=" order('-supervisor.nombre') " ng-class="{active: row == '-supervisor.nombre'}"></i>
									</div>
								</th>
								<th>
									Fecha de solicitud
									<div class="th">
										<i class="fa fa-caret-up icon-up" ng-click=" order('created_at') " ng-class="{active: row == 'created_at'}"></i>
										<i class="fa fa-caret-down icon-down" ng-click=" order('-created_at') " ng-class="{active: row == '-created_at'}"></i>
									</div>
								</th>
								<th>
									Justificación de desbloqueo
								</th>
								<th>Acciones</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="data in currentPageStores track by $index">
								<td>{{ $index + 1 }}</td>
								<td>{{ data.cliente.nombre }} {{ data.cliente.apellido }}</td>
								<td>{{ data.nombre_supervisor }} 
									<i class="fa fa-check text-success" ng-show="data.aprobacion_supervisor == 1"></i>
									<i class="fa fa-times text-danger" ng-show="data.aprobacion_supervisor == 2"></i>
								</td>
								<td>{{ data.nombre_gerente }} 
									<i class="fa fa-check text-success" ng-show="data.aprobacion_gerente == 1"></i>
									<i class="fa fa-times text-danger" ng-show="data.aprobacion_gerente == 2"></i>
								</td>
								<td>{{ data.created_at }}</td>
								<td>{{ data.razon }}</td>
								<td>
									<button 
										ng-show="data.revisado"
										type="button" 
										class="btn btn-success btn-xs" 
										md-ink-ripple
										ng-click="modalAprobacionesOpen(data)">
										Aprobaciones
									</button>
									<a 
										type="button" 
										class="btn btn-primary btn-xs" 
										href="#/detallecliente/{{ data.cliente_id }}"
										md-ink-ripple>
										Cliente
									</a>
								</td>
							</tr>
						</tbody>
					</table>
					<!-- #end data table -->
					<div class="panel-footer clearfix">
						<p class="left mt15 small">
							Mostrando {{currentPageStores.length*(currentPage - 1) + 1}} a {{currentPageStores.length*currentPage}} de {{datas.length}}
							registro(s)
						</p>
						<pagination boundary-links="true" total-items="filteredData.length" ng-model="currentPage" class="pagination-sm right" max-size="5"
						 ng-change="select(currentPage)" items-per-page="numPerPage" rotate="false" previous-text="&lsaquo;" next-text="&rsaquo;"
						 first-text="&laquo;" last-text="&raquo;"></pagination>
					</div>
				</div>
				<div class="toast toast-{{positionModel}}">
					<alert ng-repeat="toast in toasts" type="{{toast.type}}" close="closeAlert($index)" class="toast-{{toast.anim}}">
						<div ng-bind-html="toast.msg"></div>
					</alert>
				</div>
			</div>
		</div>
	</div>
	<!-- #end page-wrap -->
</div>